!function(a){function b(a){var b;this.elem=a,this.volume=this.elem.volume,this.skin=a.getAttribute("data-skin"),b=this.skin&&this.skins[this.skin]?this.skins[this.skin]:this.skins.default,this.init(b)}b.prototype.skins={skin_1:["progress","play","mute","volume","time","allTime","fullscreen"],skin_2:["play","time","allTime","progress","mute","volume","fullscreen"],skin_3:["progress","play","mute","volume","time","allTime","fullscreen"],skin_4:["progress","play","mute","volume","time","allTime","fullscreen"],skin_5:["progress","play","mute","volume","time","allTime","fullscreen"],skin_6:["progress","play","mute","volume","time","allTime","fullscreen"],skin_7:["progress","play","mute","volume","time","allTime","fullscreen"],skin_8:["progress","play","mute","volume","time","allTime","fullscreen"],skin_9:["progress","play","mute","volume","time","allTime","fullscreen"],"default":["progress","play","mute","volume","time","allTime","fullscreen"]},b.prototype.playerControls={progress:{tag:"progress",attrs:[{name:"class",value:"controls__progress"},{name:"max",value:100},{name:"value",value:0}]},play:{tag:"span",attrs:[{name:"class",value:"controls__item controls__play"}]},mute:{tag:"span",attrs:[{name:"class",value:"controls__item controls__mute"}]},volume:{tag:"input",attrs:[{name:"class",value:"controls__item controls__volume"},{name:"type",value:"range"},{name:"min",value:0},{name:"max",value:1},{name:"step",value:.01},{name:"value",value:1}]},time:{tag:"span",attrs:[{name:"class",value:"controls__item controls__time"}]},allTime:{tag:"span",attrs:[{name:"class",value:"controls__item controls__time controls__time-overall"}]},fullscreen:{tag:"span",attrs:[{name:"class",value:"controls__item controls__fullscreen"}]},elements:{tag:"div",attrs:[{name:"class",value:"controls__elements"}]}},b.prototype.createControl=function(b){for(var c=a.createElement(b.tag),d=0;d<b.attrs.length;d++)c.setAttribute(b.attrs[d].name,b.attrs[d].value);return c},b.prototype.getHumanReadableTime=function(a){var b=a?a:this.elem.duration,c=parseInt(b/3600),d=parseInt(c>0?(b-3600*c)/60:b/60),e=parseInt(c>0?b-3600*c-60*d:b-60*d);return c=10>c?"0"+c:c,d=10>d?"0"+d:d,e=10>e?"0"+e:e,c+":"+d+":"+e},b.prototype.playPause=function(){return this.elem.paused?this.elem.play():this.elem.pause(),this},b.prototype.mute=function(a){return 0!==this.elem.volume?(this.elem.volume=0,a.value=0):this.elem.volume=a.value=this.volume,this},b.prototype.changeVolume=function(a){return this.elem.volume=this.volume=a,this},b.prototype.updateProgressbar=function(a){return a.value=Math.floor(100/this.elem.duration*this.elem.currentTime),!1},b.prototype.goToPosition=function(a){this.elem.currentTime=parseInt(a/100*this.elem.duration)},b.prototype.fullScreen=function(){this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen()},b.prototype.init=function(b){var c=this,d=c.elem.parentNode,e=a.createElement("div"),f=a.createElement("div"),g=a.createElement("p"),h={progress:this.createControl(this.playerControls.progress),play:this.createControl(this.playerControls.play),mute:this.createControl(this.playerControls.mute),volume:this.createControl(this.playerControls.volume),time:this.createControl(this.playerControls.time),allTime:this.createControl(this.playerControls.allTime),fullscreen:this.createControl(this.playerControls.fullscreen),elements:this.createControl(this.playerControls.elements)};g.classList.add("video__title"),g.textContent=this.elem.title,f.classList.add("controls"),f.classList.add(this.skin?"controls-"+this.skin:"controls-skin_default");for(var i=0;i<b.length;i++)f.appendChild(h[b[i]]);e.classList.add("video"),e.appendChild(g),d.insertBefore(e,this.elem),e.appendChild(this.elem),e.appendChild(f),e.style.width=f.offsetWidth+"px",this.elem.addEventListener("loadedmetadata",function(){h.allTime.textContent=" / "+c.getHumanReadableTime()},!1),h.volume.addEventListener("change",function(){c.changeVolume(this.value)},!1),h.mute.addEventListener("click",function(){c.mute(h.volume),this.classList.toggle("controls__mute_on")},!1),h.play.addEventListener("click",function(){c.playPause(),this.classList.toggle("controls__play_paused")},!1),this.elem.addEventListener("ended",function(){h.play.classList.toggle("controls__play_paused")}),this.elem.addEventListener("timeupdate",function(){h.time.textContent=c.getHumanReadableTime(this.currentTime),c.updateProgressbar(h.progress)},!1),h.progress.addEventListener("click",function(a){var b=Math.floor(100/this.offsetWidth*a.offsetX);c.goToPosition(b),this.value=b,c.elem.paused?(c.elem.play(),h.play.classList.remove("controls__play_paused")):h.play.classList.add("controls__play_paused")},!1),h.fullscreen.addEventListener("click",function(){c.fullScreen()},!1)};for(var c=a.querySelectorAll("video"),d=c.length,e=[],f=0;d>f;f+=1)e.push(new b(c[f]))}(document);